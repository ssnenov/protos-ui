<script src="../jquery.js" type="text/javascript"></script>
<!--<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script> -->
    <script src="../jquery.protos-ui.js" type="text/javascript"></script>
    <link href="../protos-ui.css" rel="stylesheet" />

<style>
.listViewItem {
	display: block;
}
</style>	

<div id="carsList" style="border: solid black 1px; width: 200px;">
</div>

<script id="editTmpl" type="protos-tmpl">
	Make: <input name="Make" /><br />
	Model: <input name="Model" /><br />
	Price: <input name="Price" /><br />
	<input type="submit" value="Update">
</script>

<script id="cars" type="protos-tmpl">
#=Make# - #=Model# <b>#=Price#</b> <span class="itemEdit"><i>Edit</i></span> - <span class="itemDelete"><i>Delete</i></span>
</script>

<script type="text/javascript">	
	var dataSource = new protos.dataSource({
		data: {
			read: 'http://localhost:8123/api/Cars/Get',
			update: {
				url: 'http://localhost:8123/api/Cars/Update',
				type: 'POST'
			},
			type: 'aspnet'
		},
		server: {
			paging: true,
			filtering: false,
			sorting: false
		}
	});
	
	$("#carsList").protos().listView({
		data: dataSource,
		pageSize: 3,
		editTemplate: 'editTmpl',
		popUp: {
			width: 580
		},
		templateId: 'cars'
	});
</script>